---
title: "costly"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{costly}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(costly)
```
This development version of the costly package has been made available as part of the process of testing and documenting the package. Currently there are no vignettes available.

Basic usage is as follows.

## In brief (country names example, reconciled using fuzzy logic and partial correspondences)
```{r}
x <- CostlyCountries() # Create CostlyCountries module instance
x <- renew(x, type_1L_chr = "default") # Specify the dataset to be standardised, the standards for country names and approach to reconciling the two.
x <- ratify(x) # Create a standardised dataset and validate it against the standards dataset.
```

## In brief (currency names example, reconciled using fuzzy logic, partial correspondences and ISO code lookups)
```{r}
x <- CostlyCountries()
x <- renew(x,
           new_val_xx = add_default_currency_seed(x@CostlySeed_r4, include_1L_chr = "Country"), 
           what_1L_chr = "seed")
x <- renew(x, new_val_xx = make_country_correspondences("currencies"), 
           type_1L_chr = "final", what_1L_chr = "correspondences")
x <- ratify(x)
y <- CostlyCurrencies()
y <- renew(y, new_val_xx = add_default_currency_seed(y@CostlySeed_r4,
                                                     Ready4useDyad_r4 = x@results_ls$Country_Output_Lookup), 
           what_1L_chr = "seed")
y <- ratify(y, type_1L_chr = "Lookup")
```

## In brief (exploratory analysis workflow, to identify partial correspondences)
```{r}
x <- CostlyCountries()
x <- renew(x,
           new_val_xx = add_default_currency_seed(x@CostlySeed_r4, include_1L_chr = "Country"), 
           what_1L_chr = "seed")
y <- ratify(x)
```

```{r eval=FALSE}
# (Not run) Inspect results
y@results_ls$Country_Output_Validation
```

```{r}
y <- ratify(x, new_val_xx = NULL)
```
```{r eval=FALSE}
# (Not run) Inspect results
y@results_ls$Country_Output_Correspondences
```
```{r}
y <- ratify(renew(x, new_val_xx = character(0), what_1L_chr = "logic"),
            new_val_xx = make_country_correspondences("currencies"))

```

```{r eval=FALSE}
# (Not run) Inspect results
#y@results_ls
```
```{r}
# y <- ratify(x, new_val_xx = make_country_correspondences("currencies"))
```

